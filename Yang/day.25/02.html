<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>自定义bind函数</title>
  </head>
  <body>

    <script type="text/javascript">

    /*
    功能：实现和内置bind类似的功能
    @fn: 要绑定的函数
    @context: 指定的this
    */
    function bind(fn,context){
      //在伪数组上调用真数组的方法
      var preArg = Array.prototype.slice.call(arguments,2);
      return function (){
      var newArg = Array.prototype.slice.call(arguments,0);
        var arg =  preArg.concat(newArg);
        fn.apply(context, arg);
      };
    }

    var obj = {
      value: 10
    };

    function fun(){
      console.log(this);
      console.log(arguments);
    }

    var ret = bind(fun,obj,1,2,3);
    ret(4,5,6);
    console.log(ret);

    </script>

  </body>
</html>
