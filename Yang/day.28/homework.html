<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>小人</title>
</head>
<body>
  <img id ="img" src="./images/1.png" alt="">
  <canvas id="canvas" height="600px" width="600px"></canvas>
  <button id="btn1">front</button>
  <button id="btn2">left</button>
  <button id="btn3">right</button>
  <button id="btn4">back</button>
  <script type="text/javascript">
    var canvas = document.getElementById("canvas");
    var ctx = canvas.getContext("2d");
    var img = document.getElementById("img");
    var btn = document.getElementsByTagName("button");
    // var btn2 = document.getElementById("btn2");
    // var btn3 = document.getElementById("btn3");
    // var btn4 = document.getElementById("btn4");
    canvas.style.border = "1px solid red";
    img.onload = function(){
       for(var j = 0; j < 4; j ++){
           btn[j].index = j;
           btn[j].onclick = function(){
            var m = this.index;
           var num = 0;
           var i = 0 ;
          //  clearInterval(id);
           var id = setInterval(function(){
           ctx.drawImage(img,num*40,m*65,40,65,280,270,40,65);
           i ++;
           if( i % 5 == 0){
           canvas.width = 600;
             num ++;
           }
           if(num == 4){
             num = 0;
           }
         },10)
       }
     }
       }

    //  ctx.drawImage(img,0,0,40,65,280,270,40,65);
    //  ctx.drawImage(img,40,0,40,65,280,270,40,65);
  </script>
</body>
</html>
